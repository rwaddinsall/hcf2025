---
import ScrollingText from './ScrollingText.astro';
import { getAllInfoPages, getAllGeneralPages } from '../utils/static-content';
// import { Icon } from 'astro-icon/components';

/**
 * Footer Component
 *
 * @description A component that displays the footer of the website
 */

// Get info pages for Information column from static content
const infoPages = getAllInfoPages();

// Get general pages for Legal column from static content  
const generalPages = getAllGeneralPages();
---

<footer>
  <section class="py-20">
    <h2 class="sr-only">Footer</h2>
    <div class="container mx-auto">
      <!-- Footer Navigation Grid -->
      <div
        class="grid items-start w-full grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3 justify-items-center sm:gap-12 lg:gap-16"
      >
        <!-- Column 1: Main Navigation -->
        <div class="flex flex-col gap-4">
          <h3 class="mb-2 text-lg font-semibold">Festival</h3>
          <ul class="flex flex-col gap-2">
            <li><a href="/">Home</a></li>
            <li><a href="/">Artists</a></li>
          </ul>
        </div>

        <!-- Column 2: Info & Services -->
        <div class="flex flex-col gap-4">
          <h3 class="mb-2 text-lg font-semibold">Information</h3>
          <ul class="flex flex-col gap-2">
            {
              infoPages.map((page) => (
                <li>
                  <a href={`/info/${page.slug}`}>{page.heading}</a>
                </li>
              ))
            }
            <li>
              <a href="/sustainability">Sustainability</a>
            </li>
          </ul>
        </div>

        <!-- Column 3: Legal -->
        <div class="flex flex-col gap-4">
          <h3 class="mb-2 text-lg font-semibold">Legal</h3>
          <ul class="flex flex-col gap-2">
            {
              generalPages.length > 0 ? 
                generalPages.map((page) => (
                  <li>
                    <a href={`/${page.slug}`}>{page.title}</a>
                  </li>
                ))
              : (
                <>
                  <li>
                    <a href="/privacy-policy">Privacy Policy</a>
                  </li>
                  <li>
                    <a href="/terms">Terms & Conditions</a>
                  </li>
                </>
              )
            }
          </ul>
        </div>
      </div>

      <!-- Acknowledgement of Country - Prominent placement at top -->
      <section class="acknowledgement-section">
        <div class="container">
          <ScrollingText
            strapiType="acknowledgement-of-country"
            duration={30}
            ariaLabel="Acknowledgement of Country"
            width="100%"
            variant="acknowledgement-of-country"
          />
        </div>
      </section>
    </div>
  </section>

  <!-- Social Icons Row (lower portion) - COMMENTED OUT -->
  <!-- 
  <div class="flex justify-center gap-6 pb-8 mt-8">
    <a href="https://instagram.com/hopkinscreek" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
      <Icon name="lucide:instagram" size="28" />
    </a>
    <a href="https://facebook.com/hopkinscreekfestival" target="_blank" rel="noopener noreferrer" aria-label="Facebook">
      <Icon name="lucide:facebook" size="28" />
    </a>
    <a href="mailto:info@hopkinscreek.com.au" aria-label="Email">
      <Icon name="lucide:mail" size="28" />
    </a>
  </div>
  -->

  <style>
    .acknowledgement-section {
      padding: var(--space-l);
      margin-top: var(--space-xl);
    }

    footer a {
      color: inherit;
      text-decoration: none;
    }

    footer a:hover, footer a:focus {
      color: inherit;
      text-decoration: underline;
    }

    footer h3 {
      color: var(--neutral-900, #1a1a1a);
      font-family: var(--font-body);
    }
  </style>
</footer>
